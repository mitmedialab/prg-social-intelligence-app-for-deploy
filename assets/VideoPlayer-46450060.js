import{T as Pe,U as oe,S as j,i as z,s as X,V as Fe,e as w,c as F,g as b,h as P,j as m,w as y,W as Le,X as Ve,Y as De,Z as Se,_ as Ne,t as D,l as N,n as M,E as x,$ as Ae,b as Q,y as B,F as ye,B as le,C as ne,D as ie,u as R,a0 as ae,A as J,a1 as re,d as Y,m as Z,o as $,J as O,K as ee,f as I,p as Ue,q as K,a2 as Ee,v as ce,R as Re,L as qe,a3 as He,G as be,a4 as ke,a5 as te,x as W,z as G,Q as Ie,a6 as we}from"./encryption-f5875568.js";function Te(t){const e=t-1;return e*e*e+1}function nt(t,{delay:e=0,duration:l=400,easing:s=Pe}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:s,css:i=>`opacity: ${i*a}`}}function st(t,{delay:e=0,duration:l=400,easing:s=Te,x:a=0,y:i=0,opacity:o=0}={}){const u=getComputedStyle(t),c=+u.opacity,f=u.transform==="none"?"":u.transform,n=c*(1-o),[_,r]=oe(a),[h,k]=oe(i);return{delay:e,duration:l,easing:s,css:(g,d)=>`
			transform: ${f} translate(${(1-g)*_}${r}, ${(1-g)*h}${k});
			opacity: ${c-n*d}`}}function ot(t,{delay:e=0,duration:l=400,easing:s=Te,axis:a="y"}={}){const i=getComputedStyle(t),o=+i.opacity,u=a==="y"?"height":"width",c=parseFloat(i[u]),f=a==="y"?["top","bottom"]:["left","right"],n=f.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),_=parseFloat(i[`padding${n[0]}`]),r=parseFloat(i[`padding${n[1]}`]),h=parseFloat(i[`margin${n[0]}`]),k=parseFloat(i[`margin${n[1]}`]),g=parseFloat(i[`border${n[0]}Width`]),d=parseFloat(i[`border${n[1]}Width`]);return{delay:e,duration:l,easing:s,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};${u}: ${p*c}px;padding-${f[0]}: ${p*_}px;padding-${f[1]}: ${p*r}px;margin-${f[0]}: ${p*h}px;margin-${f[1]}: ${p*k}px;border-${f[0]}-width: ${p*g}px;border-${f[1]}-width: ${p*d}px;`}}function Ke(t){let e,l,s,a,i,o,u;const c=t[3].default,f=Fe(c,t,t[2],null);return{c(){e=w("dialog"),l=w("div"),s=w("button"),s.textContent="X",a=F(),f&&f.c(),b(s,"class","svelte-30mizb"),b(l,"class","svelte-30mizb"),b(e,"class","svelte-30mizb")},m(n,_){P(n,e,_),m(e,l),m(l,s),m(l,a),f&&f.m(l,null),t[6](e),i=!0,o||(u=[y(s,"click",t[5]),y(l,"click",Le(t[4])),y(e,"close",t[7]),y(e,"click",Ve(t[8]))],o=!0)},p(n,[_]){f&&f.p&&(!i||_&4)&&De(f,c,n,n[2],i?Ne(c,n[2],_,null):Se(n[2]),null)},i(n){i||(D(f,n),i=!0)},o(n){N(f,n),i=!1},d(n){n&&M(e),f&&f.d(n),t[6](null),o=!1,x(u)}}}function Oe(t,e,l){let{$$slots:s={},$$scope:a}=e,{showModal:i}=e,o;function u(r){Ae.call(this,t,r)}const c=()=>o.close();function f(r){Q[r?"unshift":"push"](()=>{o=r,l(1,o)})}const n=()=>l(0,i=!1),_=()=>o.close();return t.$$set=r=>{"showModal"in r&&l(0,i=r.showModal),"$$scope"in r&&l(2,a=r.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&o&&i&&o.showModal()},[i,o,a,s,u,c,f,n,_]}class it extends j{constructor(e){super(),z(this,e,Oe,Ke,X,{showModal:0})}}function ue(t,e,l){const s=t.slice();return s[3]=e[l],s[5]=l,s}function fe(t,e,l){const s=t.slice();return s[3]=e[l],s[5]=l,s}function _e(t){let e,l,s=t[3].label+"",a,i,o,u,c;return{c(){e=w("li"),l=w("span"),a=R(s),i=F(),b(l,"class","svelte-yxm6a2"),b(e,"class",o=ae(t[0]===t[5]?"active":"")+" svelte-yxm6a2")},m(f,n){P(f,e,n),m(e,l),m(l,a),m(e,i),u||(c=y(l,"click",t[2](t[5])),u=!0)},p(f,n){t=f,n&2&&s!==(s=t[3].label+"")&&J(a,s),n&1&&o!==(o=ae(t[0]===t[5]?"active":"")+" svelte-yxm6a2")&&b(e,"class",o)},d(f){f&&M(e),u=!1,c()}}}function de(t){let e,l,s,a;var i=t[3].component;function o(u){return{}}return i&&(l=re(i,o())),{c(){e=w("div"),l&&Y(l.$$.fragment),s=F(),b(e,"class","box svelte-yxm6a2")},m(u,c){P(u,e,c),l&&Z(l,e,null),m(e,s),a=!0},p(u,c){if(c&2&&i!==(i=u[3].component)){if(l){le();const f=l;N(f.$$.fragment,1,0,()=>{$(f,1)}),ne()}i?(l=re(i,o()),Y(l.$$.fragment),D(l.$$.fragment,1),Z(l,e,s)):l=null}},i(u){a||(l&&D(l.$$.fragment,u),a=!0)},o(u){l&&N(l.$$.fragment,u),a=!1},d(u){u&&M(e),l&&$(l)}}}function pe(t){let e,l,s=t[0]==t[5]&&de(t);return{c(){s&&s.c(),e=ye()},m(a,i){s&&s.m(a,i),P(a,e,i),l=!0},p(a,i){a[0]==a[5]?s?(s.p(a,i),i&1&&D(s,1)):(s=de(a),s.c(),D(s,1),s.m(e.parentNode,e)):s&&(le(),N(s,1,1,()=>{s=null}),ne())},i(a){l||(D(s),l=!0)},o(a){N(s),l=!1},d(a){a&&M(e),s&&s.d(a)}}}function je(t){let e,l,s,a,i=B(t[1]),o=[];for(let n=0;n<i.length;n+=1)o[n]=_e(fe(t,i,n));let u=B(t[1]),c=[];for(let n=0;n<u.length;n+=1)c[n]=pe(ue(t,u,n));const f=n=>N(c[n],1,1,()=>{c[n]=null});return{c(){e=w("ul");for(let n=0;n<o.length;n+=1)o[n].c();l=F();for(let n=0;n<c.length;n+=1)c[n].c();s=ye(),b(e,"class","svelte-yxm6a2")},m(n,_){P(n,e,_);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null);P(n,l,_);for(let r=0;r<c.length;r+=1)c[r]&&c[r].m(n,_);P(n,s,_),a=!0},p(n,[_]){if(_&7){i=B(n[1]);let r;for(r=0;r<i.length;r+=1){const h=fe(n,i,r);o[r]?o[r].p(h,_):(o[r]=_e(h),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}if(_&3){u=B(n[1]);let r;for(r=0;r<u.length;r+=1){const h=ue(n,u,r);c[r]?(c[r].p(h,_),D(c[r],1)):(c[r]=pe(h),c[r].c(),D(c[r],1),c[r].m(s.parentNode,s))}for(le(),r=u.length;r<c.length;r+=1)f(r);ne()}},i(n){if(!a){for(let _=0;_<u.length;_+=1)D(c[_]);a=!0}},o(n){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)N(c[_]);a=!1},d(n){n&&(M(e),M(l),M(s)),ie(o,n),ie(c,n)}}}function ze(t,e,l){let{items:s}=e,{activeTabValue:a=0}=e;const i=o=>()=>l(0,a=o);return t.$$set=o=>{"items"in o&&l(1,s=o.items),"activeTabValue"in o&&l(0,a=o.activeTabValue)},[a,s,i]}class at extends j{constructor(e){super(),z(this,e,ze,je,X,{items:1,activeTabValue:0})}}function Xe(t){let e,l,s;return{c(){e=w("input"),b(e,"type","file"),b(e,"accept","video/*")},m(a,i){P(a,e,i),t[3](e),l||(s=y(e,"change",t[1]),l=!0)},p:O,i:O,o:O,d(a){a&&M(e),t[3](null),l=!1,s()}}}function Be(t,e,l){let{load:s}=e,a;const i=()=>s(URL.createObjectURL(a.files[0]),a.files[0].name);function o(u){Q[u?"unshift":"push"](()=>{a=u,l(0,a)})}return t.$$set=u=>{"load"in u&&l(2,s=u.load)},[a,i,s,o]}class We extends j{constructor(e){super(),z(this,e,Be,Xe,X,{load:2})}}function Ge(t){let e,l,s,a,i,o,u,c,f,n,_,r;return{c(){e=w("script"),e.innerHTML="",s=w("script"),s.innerHTML="",i=F(),o=w("button"),u=w("img"),f=R(`
    Choose File`),e.async=!0,e.defer=!0,ee(e.src,l="https://apis.google.com/js/api.js")||b(e,"src",l),s.async=!0,s.defer=!0,ee(s.src,a="https://accounts.google.com/gsi/client")||b(s,"src",a),ee(u.src,c="https://fonts.gstatic.com/s/i/productlogos/drive_2020q4/v8/web-64dp/logo_drive_2020q4_color_2x_web_64dp.png")||b(u,"src",c),b(u,"class","svelte-xfjub"),o.disabled=n=!t[1]||!t[0]},m(h,k){m(document.head,e),m(document.head,s),P(h,i,k),P(h,o,k),m(o,u),m(o,f),_||(r=[y(e,"load",t[2]),y(s,"load",t[4]),y(o,"click",t[3])],_=!0)},p(h,[k]){k&3&&n!==(n=!h[1]||!h[0])&&(o.disabled=n)},i:O,o:O,d(h){h&&(M(i),M(o)),M(e),M(s),_=!1,x(r)}}}function Je(t,e,l){let{load:s}=e,a,i=null,o=!1,u=!1;const c=new URLSearchParams(window.location.search),f=c.get("gk"),n=c.get("gc"),_=()=>gapi.load("picker",()=>l(0,o=!0));async function r(d){const{ACTION:p,DOCUMENTS:v}=google.picker.Response,{PICKED:V}=google.picker.Action,{ID:q,NAME:A}=google.picker.Document;if(d[p]!==V)return;const[S]=d[v],U=S[q],E=S[A],H=`https://www.googleapis.com/drive/v3/files/${U}/?alt=media&key=${f}`;s(H,E)}const h=()=>new google.picker.PickerBuilder().addView(google.picker.ViewId.DOCS).setOAuthToken(i).setDeveloperKey(f).setCallback(r).build(),k=()=>a.requestAccessToken({prompt:i===null?"consent":""});function g(){n&&(a=google.accounts.oauth2.initTokenClient({client_id:n,scope:"https://www.googleapis.com/auth/drive.file",callback:d=>{if(d.error)throw d;i=d.access_token,h().setVisible(!0)},error_callback:d=>console.error(d)}),l(1,u=!0))}return t.$$set=d=>{"load"in d&&l(5,s=d.load)},[o,u,_,k,g,s]}class Qe extends j{constructor(e){super(),z(this,e,Je,Ge,X,{load:5})}}function Ye(t){let e,l=!1,s,a=!0,i,o;function u(){cancelAnimationFrame(s),e.paused||(s=we(u),l=!0),t[16].call(e)}return{c(){e=w("video"),e.innerHTML='<track kind="captions"/>',e.controls=!0,b(e,"class","svelte-1ivecvl"),t[2]===void 0&&be(()=>t[18].call(e))},m(c,f){P(c,e,f),t[20](e),i||(o=[y(e,"timeupdate",u),y(e,"error",t[17]),y(e,"encrypted",ke),y(e,"contextmenu",te(et)),y(e,"durationchange",t[18]),y(e,"play",t[19]),y(e,"pause",t[19])],i=!0)},p(c,f){!l&&f&512&&!isNaN(c[9])&&(e.currentTime=c[9]),l=!1,f&8&&a!==(a=c[3])&&e[a?"pause":"play"]()},d(c){c&&M(e),t[20](null),i=!1,x(o)}}}function Ze(t){let e,l=!1,s,a=!0,i,o,u,c,f,n,_,r=W(t[9])+"",h,k,g,d,p=t[3]?"play":"pause",v,V,q,A,S=W(t[2])+"",U,E,H;function T(){cancelAnimationFrame(s),e.paused||(s=we(T),l=!0),t[11].call(e)}return{c(){e=w("video"),e.innerHTML='<track kind="captions"/>',i=F(),o=w("div"),u=w("progress"),f=F(),n=w("div"),_=w("span"),h=R(r),k=F(),g=w("span"),d=R("click anywhere to "),v=R(p),V=R(" / drag to seek"),q=F(),A=w("span"),U=R(S),b(e,"class","svelte-1ivecvl"),t[2]===void 0&&be(()=>t[13].call(e)),u.value=c=t[9]/t[2]||0,b(u,"class","svelte-1ivecvl"),b(_,"class","time overlay svelte-1ivecvl"),b(g,"class","overlay svelte-1ivecvl"),b(A,"class","time overlay svelte-1ivecvl"),b(n,"class","info svelte-1ivecvl"),b(o,"class","controls svelte-1ivecvl"),I(o,"opacity",t[2]&&ve?1:0)},m(L,C){P(L,e,C),t[15](e),P(L,i,C),P(L,o,C),m(o,u),m(o,f),m(o,n),m(n,_),m(_,h),m(n,k),m(n,g),m(g,d),m(g,v),m(g,V),m(n,q),m(n,A),m(A,U),E||(H=[y(e,"mousemove",function(){G(t[4])&&t[4].apply(this,arguments)}),y(e,"touchmove",te(function(){G(t[4])&&t[4].apply(this,arguments)})),y(e,"mousedown",function(){G(t[5])&&t[5].apply(this,arguments)}),y(e,"mouseup",function(){G(t[6])&&t[6].apply(this,arguments)}),y(e,"timeupdate",T),y(e,"error",t[12]),y(e,"encrypted",ke),y(e,"contextmenu",te(xe)),y(e,"durationchange",t[13]),y(e,"play",t[14]),y(e,"pause",t[14])],E=!0)},p(L,C){t=L,!l&&C&512&&!isNaN(t[9])&&(e.currentTime=t[9]),l=!1,C&8&&a!==(a=t[3])&&e[a?"pause":"play"](),C&516&&c!==(c=t[9]/t[2]||0)&&(u.value=c),C&512&&r!==(r=W(t[9])+"")&&J(h,r),C&8&&p!==(p=t[3]?"play":"pause")&&J(v,p),C&4&&S!==(S=W(t[2])+"")&&J(U,S),C&4&&I(o,"opacity",t[2]&&ve?1:0)},d(L){L&&(M(e),M(i),M(o)),t[15](null),E=!1,x(H)}}}function me(t){let e;return{c(){e=w("div"),b(e,"class","controls loading svelte-1ivecvl"),I(e,"height","100%")},m(l,s){P(l,e,s)},d(l){l&&M(e)}}}function he(t){let e;return{c(){e=w("div"),e.innerHTML="<center><h3>No source selected</h3></center>",b(e,"class","controls empty svelte-1ivecvl"),I(e,"height","100%")},m(l,s){P(l,e,s)},d(l){l&&M(e)}}}function ge(t){let e;return{c(){e=w("div"),e.innerHTML="<h1>Error loading video</h1>",b(e,"class","controls error svelte-1ivecvl"),I(e,"height","100%")},m(l,s){P(l,e,s)},d(l){l&&M(e)}}}function $e(t){let e,l,s,a,i,o,u,c,f,n,_;function r(v,V){return v[0]?Ze:Ye}let h=r(t),k=h(t),g=t[7]&&me(),d=t[1]&&!t[1].src&&he(),p=t[8]&&ge();return c=new Qe({props:{load:t[10]}}),n=new We({props:{load:t[10]}}),{c(){e=w("div"),k.c(),l=F(),g&&g.c(),s=F(),d&&d.c(),a=F(),p&&p.c(),i=F(),o=w("strong"),o.textContent="Select Source:",u=F(),Y(c.$$.fragment),f=F(),Y(n.$$.fragment),I(o,"margin-left","10px"),b(e,"class","container svelte-1ivecvl")},m(v,V){P(v,e,V),k.m(e,null),m(e,l),g&&g.m(e,null),m(e,s),d&&d.m(e,null),m(e,a),p&&p.m(e,null),m(e,i),m(e,o),m(e,u),Z(c,e,null),m(e,f),Z(n,e,null),_=!0},p(v,[V]){h===(h=r(v))&&k?k.p(v,V):(k.d(1),k=h(v),k&&(k.c(),k.m(e,l))),v[7]?g||(g=me(),g.c(),g.m(e,s)):g&&(g.d(1),g=null),v[1]&&!v[1].src?d||(d=he(),d.c(),d.m(e,a)):d&&(d.d(1),d=null),v[8]?p||(p=ge(),p.c(),p.m(e,i)):p&&(p.d(1),p=null)},i(v){_||(D(c.$$.fragment,v),D(n.$$.fragment,v),_=!0)},o(v){N(c.$$.fragment,v),N(n.$$.fragment,v),_=!1},d(v){v&&M(e),k.d(),g&&g.d(),d&&d.d(),p&&p.d(),$(c),$(n)}}}let ve=!0;const xe=()=>!1,et=()=>!1;function tt(t,e,l){let s;Ue(t,K,T=>l(9,s=T));let{scrollControls:a=!1}=e,i,o=!0,u,c,f;if(a){let T,L;u=function(C){if(clearTimeout(T),T=setTimeout(()=>!1,2500),!i||C.type!=="touchmove"&&!(C.buttons&1))return;const Ce=C.type==="touchmove"?C.touches[0].clientX:C.clientX,{left:se,right:Me}=this.getBoundingClientRect();Ie(K,s=i*(Ce-se)/(Me-se),s)},c=function(C){L=new Date},f=function(C){new Date().getTime()-L.getTime()<300&&(o?C.target.play():C.target.pause())}}let n,_=!1,r=!1;const h=(T,L)=>{l(1,n.oncanplay=()=>{l(7,_=!1),l(1,n.oncanplay=null,n),n.play(),ce.set(n),Re.set(n.duration)},n),l(1,n.onerror=()=>{l(8,r=!0),l(1,n.onerror=null,n)},n),K.set(0),l(1,n.src=T,n),l(7,_=!0),l(8,r=!1),qe.set(L)},g=new URLSearchParams(window.location.search).get("ek");g&&Ee.set(g);function d(){s=this.currentTime,K.set(s)}const p=T=>{l(8,r=!0),console.error(T)};function v(){i=this.duration,l(2,i)}function V(){o=this.paused,l(3,o)}function q(T){Q[T?"unshift":"push"](()=>{n=T,l(1,n)})}function A(){s=this.currentTime,K.set(s)}const S=T=>{l(8,r=!0),console.error(T)};function U(){i=this.duration,l(2,i)}function E(){o=this.paused,l(3,o)}function H(T){Q[T?"unshift":"push"](()=>{n=T,l(1,n)})}return t.$$set=T=>{"scrollControls"in T&&l(0,a=T.scrollControls)},t.$$.update=()=>{t.$$.dirty&2&&n&&He(n),t.$$.dirty&2&&n&&ce.set(n)},[a,n,i,o,u,c,f,_,r,s,h,d,p,v,V,q,A,S,U,E,H]}class rt extends j{constructor(e){super(),z(this,e,tt,$e,X,{scrollControls:0})}}export{it as M,at as T,rt as V,nt as a,st as f,ot as s};
