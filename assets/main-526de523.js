import{S as fe,i as ue,s as ce,b as me,a as ge,e as f,c as m,d as V,f as y,g as S,h as u,j as r,m as G,k as he,t as R,l as U,n as d,o as J,p as Ce,v as lt,q as He,r as ot,u as j,w as $e,x as Te,y as Ae,z as st,A as ae,B as xe,C as et,D as tt,E as rt,F as Me,G as at,H as Ne,I as we,J as Y,K as ct,L as ft}from"./encryption-006280f7.js";import{s as Pe,M as ut,T as dt,V as pt}from"./VideoPlayer-7288f26c.js";import{V as mt,S as _t,a as vt,D as bt,T as gt,r as ht,g as $t,v as nt,o as qe,f as wt,c as kt}from"./VideoClipSelector-a82a787d.js";function ze(t){let e,n,i,l,o,s,c;return{c(){e=f("div"),n=f("center"),i=f("button"),l=j("Add"),i.disabled=o=!t[4],S(i,"class","svelte-a91c2o"),y(e,"grid-row",t[11]),y(e,"grid-column","1/3")},m(a,p){u(a,e,p),r(e,n),r(n,i),r(i,l),s||(c=$e(i,"click",t[10]),s=!0)},p(a,p){p&16&&o!==(o=!a[4])&&(i.disabled=o)},d(a){a&&d(e),s=!1,c()}}}function Ct(t){let e,n,i,l,o,s,c,a,p,k,h,C,w,D,A,L,T,O,$,M,K,Q,E=t[1]&&ze(t);function ie(_){t[12](_)}function g(_){t[13](_)}function te(_){t[14](_)}let z={showAnnotations:t[1]!==null};t[0].timestamp.start!==void 0&&(z.clipStart=t[0].timestamp.start),t[0].timestamp.end!==void 0&&(z.clipEnd=t[0].timestamp.end),t[7]!==void 0&&(z.reset=t[7]),l=new mt({props:z}),me.push(()=>ge(l,"clipStart",ie)),me.push(()=>ge(l,"clipEnd",g)),me.push(()=>ge(l,"reset",te)),k=new _t({props:{annotation:t[0]}}),k.$on("change",t[15]),w=new vt({props:{annotation:t[0],type:t[3]}}),w.$on("input",t[8]);function de(_){t[16](_)}let le={annotation:t[0]};t[6]!==void 0&&(le.reset=t[6]),L=new bt({props:le}),me.push(()=>ge(L,"reset",de)),L.$on("change",t[8]);function x(_){t[17](_)}let oe={annotation:t[0],disabled:t[2]};return t[5]!==void 0&&(oe.reset=t[5]),M=new gt({props:oe}),me.push(()=>ge(M,"reset",x)),M.$on("update",t[8]),{c(){e=f("div"),E&&E.c(),n=m(),i=f("div"),V(l.$$.fragment),a=m(),p=f("div"),V(k.$$.fragment),h=m(),C=f("div"),V(w.$$.fragment),D=m(),A=f("div"),V(L.$$.fragment),O=m(),$=f("div"),V(M.$$.fragment),y(i,"grid-column","1/3"),y(i,"grid-row",1+t[11]),y(p,"grid-column",1),y(p,"grid-row",2+t[11]),y(C,"grid-column",2),y(C,"grid-row",2+t[11]),y(A,"grid-column","1/3"),y(A,"grid-row",3+t[11]),y($,"grid-column","1/3"),y($,"grid-row",4+t[11]),S(e,"class","container svelte-a91c2o")},m(_,B){u(_,e,B),E&&E.m(e,null),r(e,n),r(e,i),G(l,i,null),r(e,a),r(e,p),G(k,p,null),r(e,h),r(e,C),G(w,C,null),r(e,D),r(e,A),G(L,A,null),r(e,O),r(e,$),G(M,$,null),Q=!0},p(_,[B]){_[1]?E?E.p(_,B):(E=ze(_),E.c(),E.m(e,n)):E&&(E.d(1),E=null);const W={};B&2&&(W.showAnnotations=_[1]!==null),!o&&B&1&&(o=!0,W.clipStart=_[0].timestamp.start,he(()=>o=!1)),!s&&B&1&&(s=!0,W.clipEnd=_[0].timestamp.end,he(()=>s=!1)),!c&&B&128&&(c=!0,W.reset=_[7],he(()=>c=!1)),l.$set(W);const se={};B&1&&(se.annotation=_[0]),k.$set(se);const re={};B&1&&(re.annotation=_[0]),B&8&&(re.type=_[3]),w.$set(re);const ee={};B&1&&(ee.annotation=_[0]),!T&&B&64&&(T=!0,ee.reset=_[6],he(()=>T=!1)),L.$set(ee);const P={};B&1&&(P.annotation=_[0]),B&4&&(P.disabled=_[2]),!K&&B&32&&(K=!0,P.reset=_[5],he(()=>K=!1)),M.$set(P)},i(_){Q||(R(l.$$.fragment,_),R(k.$$.fragment,_),R(w.$$.fragment,_),R(L.$$.fragment,_),R(M.$$.fragment,_),Q=!0)},o(_){U(l.$$.fragment,_),U(k.$$.fragment,_),U(w.$$.fragment,_),U(L.$$.fragment,_),U(M.$$.fragment,_),Q=!1},d(_){_&&d(e),E&&E.d(),J(l),J(k),J(w),J(L),J(M)}}}function yt(t,e,n){let i,l;Ce(t,lt,g=>n(18,i=g)),Ce(t,He,g=>n(19,l=g));let{annotation:o=$t(l,60)}=e,{add:s=null}=e;const{selections:c}=o,a=ot();let p,k,h,C,w,D;const A=()=>{n(4,h=nt(o)),a("change")},L=g=>{const te=c[g];g==="isPerformance"?n(2,p=te):g==="isCompotence"&&n(3,k=te?"competence":"error"),A()};for(const g in c)L(g);const T=s?()=>{const g=o.timestamp.end;s(o),ht(o),n(0,o),n(0,o.timestamp.start=0,o),n(0,o.timestamp.end=i.duration,o),D(),C(),w(),A(),He.set(g)}:null;let O=s?1:0;function $(g){t.$$.not_equal(o.timestamp.start,g)&&(o.timestamp.start=g,n(0,o))}function M(g){t.$$.not_equal(o.timestamp.end,g)&&(o.timestamp.end=g,n(0,o))}function K(g){D=g,n(7,D)}const Q=({detail:g})=>L(g);function E(g){w=g,n(6,w)}function ie(g){C=g,n(5,C)}return t.$$set=g=>{"annotation"in g&&n(0,o=g.annotation),"add"in g&&n(1,s=g.add)},[o,s,p,k,h,C,w,D,A,L,T,O,$,M,K,Q,E,ie]}class it extends fe{constructor(e){super(),ue(this,e,yt,Ct,ce,{annotation:0,add:1})}}function Fe(t,e,n){const i=t.slice();return i[6]=e[n],i}function Ve(t){let e,n=t[6]+"",i,l;return{c(){e=f("li"),i=j(n),l=m()},m(o,s){u(o,e,s),r(e,i),r(e,l)},p(o,s){s&1&&n!==(n=o[6]+"")&&ae(i,n)},d(o){o&&d(e)}}}function Ge(t){let e,n=t[0].tier1[t[6]]&&Ve(t);return{c(){n&&n.c(),e=Me()},m(i,l){n&&n.m(i,l),u(i,e,l)},p(i,l){i[0].tier1[i[6]]?n?n.p(i,l):(n=Ve(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&d(e),n&&n.d(i)}}}function Je(t){let e=t[6],n,i=Ge(t);return{c(){i.c(),n=Me()},m(l,o){i.m(l,o),u(l,n,o)},p(l,o){o&1&&ce(e,e=l[6])?(i.d(1),i=Ge(l),i.c(),i.m(n.parentNode,n)):i.p(l,o)},d(l){l&&d(n),i.d(l)}}}function Ye(t){let e,n,i,l=t[0].reason+"",o;return{c(){e=f("div"),n=f("strong"),n.innerHTML="<i>Reason:</i>",i=m(),o=j(l),y(e,"grid-column","1/3"),y(e,"grid-row",2)},m(s,c){u(s,e,c),r(e,n),r(e,i),r(e,o)},p(s,c){c&1&&l!==(l=s[0].reason+"")&&ae(o,l)},d(s){s&&d(e)}}}function Ke(t){let e,n,i,l=t[0].recoveryBehavior+"",o;return{c(){e=f("div"),n=f("strong"),n.innerHTML="<i>Recovery behavior:</i>",i=m(),o=j(l),y(e,"grid-column","1/3"),y(e,"grid-row",3)},m(s,c){u(s,e,c),r(e,n),r(e,i),r(e,o)},p(s,c){c&1&&l!==(l=s[0].recoveryBehavior+"")&&ae(o,l)},d(s){s&&d(e)}}}function Qe(t){let e,n,i,l;return n=new it({props:{annotation:t[0]}}),n.$on("change",t[5]),{c(){e=f("div"),V(n.$$.fragment),S(e,"class","form svelte-zfivmf")},m(o,s){u(o,e,s),G(n,e,null),l=!0},p(o,s){const c={};s&1&&(c.annotation=o[0]),n.$set(c)},i(o){l||(R(n.$$.fragment,o),o&&at(()=>{l&&(i||(i=Ne(e,Pe,{},!0)),i.run(1))}),l=!0)},o(o){U(n.$$.fragment,o),o&&(i||(i=Ne(e,Pe,{},!1)),i.run(0)),l=!1},d(o){o&&d(e),J(n),o&&i&&i.end()}}}function St(t){let e,n,i,l,o,s,c=Te(t[0].timestamp.start,!0)+"",a,p,k=Te(t[0].timestamp.end,!0)+"",h,C,w,D,A,L,T,O,$=t[0].selections.isCompotence?"Compotence":"Error",M,K,Q,E=t[0].selections.isPerformance?"Performance":"Socio-Affective",ie,g,te,z=t[0].selections.isLongterm?"Long Term":"Short Term",de,le,x,oe,_,B,W,se,re,ee,P,pe,v,b=qe[t[0].decisionBoundary].label+"",Be,Re,_e,ke,ve,ye=t[2]?"Done":"Edit",Le,Se,je,Ee,Ue,ne,De,Ie,be=Ae(Object.keys(t[0].tier1)),F=[];for(let H=0;H<be.length;H+=1)F[H]=Je(Fe(t,be,H));let X=t[0].reason&&t[0].reason!==""&&Ye(t),Z=t[0].recoveryBehavior&&t[0].recoveryBehavior!==""&&Ke(t),I=t[2]&&Qe(t);return{c(){e=f("div"),n=f("div"),i=f("div"),l=j("Timestamp:"),o=f("br"),s=m(),a=j(c),p=j(` -
            `),h=j(k),C=m(),w=f("div"),D=j("Selections:"),A=f("br"),L=m(),T=f("ul"),O=f("li"),M=j($),K=m(),Q=f("li"),ie=j(E),g=m(),te=f("li"),de=j(z),le=m(),x=f("div"),oe=j("Attributes:"),_=f("br"),B=m(),W=f("ul");for(let H=0;H<F.length;H+=1)F[H].c();se=m(),X&&X.c(),re=m(),Z&&Z.c(),ee=m(),P=f("div"),pe=f("strong"),pe.innerHTML="<i>Decision boundary:</i>",v=m(),Be=j(b),Re=m(),_e=f("div"),ke=f("center"),ve=f("button"),Le=j(ye),je=m(),Ee=f("button"),Ee.textContent="Delete",Ue=m(),I&&I.c(),y(i,"grid-column",1),y(w,"grid-column",2),y(x,"grid-column",3),y(P,"grid-column","1/3"),y(P,"grid-row",4),y(n,"display","grid"),ve.disabled=Se=t[2]&&!t[3]},m(H,q){u(H,e,q),r(e,n),r(n,i),r(i,l),r(i,o),r(i,s),r(i,a),r(i,p),r(i,h),r(n,C),r(n,w),r(w,D),r(w,A),r(w,L),r(w,T),r(T,O),r(O,M),r(T,K),r(T,Q),r(Q,ie),r(T,g),r(T,te),r(te,de),r(n,le),r(n,x),r(x,oe),r(x,_),r(x,B),r(x,W);for(let N=0;N<F.length;N+=1)F[N]&&F[N].m(W,null);r(n,se),X&&X.m(n,null),r(n,re),Z&&Z.m(n,null),r(n,ee),r(n,P),r(P,pe),r(P,v),r(P,Be),r(e,Re),r(e,_e),r(_e,ke),r(ke,ve),r(ve,Le),r(ke,je),r(ke,Ee),r(_e,Ue),I&&I.m(_e,null),ne=!0,De||(Ie=[$e(ve,"click",t[4]),$e(Ee,"click",function(){st(t[1])&&t[1].apply(this,arguments)})],De=!0)},p(H,[q]){if(t=H,(!ne||q&1)&&c!==(c=Te(t[0].timestamp.start,!0)+"")&&ae(a,c),(!ne||q&1)&&k!==(k=Te(t[0].timestamp.end,!0)+"")&&ae(h,k),(!ne||q&1)&&$!==($=t[0].selections.isCompotence?"Compotence":"Error")&&ae(M,$),(!ne||q&1)&&E!==(E=t[0].selections.isPerformance?"Performance":"Socio-Affective")&&ae(ie,E),(!ne||q&1)&&z!==(z=t[0].selections.isLongterm?"Long Term":"Short Term")&&ae(de,z),q&1){be=Ae(Object.keys(t[0].tier1));let N;for(N=0;N<be.length;N+=1){const Oe=Fe(t,be,N);F[N]?F[N].p(Oe,q):(F[N]=Je(Oe),F[N].c(),F[N].m(W,null))}for(;N<F.length;N+=1)F[N].d(1);F.length=be.length}t[0].reason&&t[0].reason!==""?X?X.p(t,q):(X=Ye(t),X.c(),X.m(n,re)):X&&(X.d(1),X=null),t[0].recoveryBehavior&&t[0].recoveryBehavior!==""?Z?Z.p(t,q):(Z=Ke(t),Z.c(),Z.m(n,ee)):Z&&(Z.d(1),Z=null),(!ne||q&1)&&b!==(b=qe[t[0].decisionBoundary].label+"")&&ae(Be,b),(!ne||q&4)&&ye!==(ye=t[2]?"Done":"Edit")&&ae(Le,ye),(!ne||q&12&&Se!==(Se=t[2]&&!t[3]))&&(ve.disabled=Se),t[2]?I?(I.p(t,q),q&4&&R(I,1)):(I=Qe(t),I.c(),R(I,1),I.m(_e,null)):I&&(xe(),U(I,1,1,()=>{I=null}),et())},i(H){ne||(R(I),ne=!0)},o(H){U(I),ne=!1},d(H){H&&d(e),tt(F,H),X&&X.d(),Z&&Z.d(),I&&I.d(),De=!1,rt(Ie)}}}function Et(t,e,n){let i,{annotation:l}=e,{drop:o}=e,s=!1;const c=()=>{n(2,s=!s),we.update(p=>p)},a=()=>n(0,l);return t.$$set=p=>{"annotation"in p&&n(0,l=p.annotation),"drop"in p&&n(1,o=p.drop)},t.$$.update=()=>{t.$$.dirty&1&&n(3,i=nt(l))},[l,o,s,i,c,a]}class Tt extends fe{constructor(e){super(),ue(this,e,Et,St,ce,{annotation:0,drop:1})}}function We(t,e,n){const i=t.slice();return i[2]=e[n],i[4]=n,i}function Xe(t){let e,n;return e=new Tt({props:{annotation:t[2],drop:t[1].bind(null,t[4])}}),{c(){V(e.$$.fragment)},m(i,l){G(e,i,l),n=!0},p(i,l){const o={};l&1&&(o.annotation=i[2]),e.$set(o)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function At(t){let e,n,i=Ae(t[0]),l=[];for(let s=0;s<i.length;s+=1)l[s]=Xe(We(t,i,s));const o=s=>U(l[s],1,1,()=>{l[s]=null});return{c(){e=f("div");for(let s=0;s<l.length;s+=1)l[s].c();S(e,"class","container svelte-17fwh60")},m(s,c){u(s,e,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);n=!0},p(s,[c]){if(c&3){i=Ae(s[0]);let a;for(a=0;a<i.length;a+=1){const p=We(s,i,a);l[a]?(l[a].p(p,c),R(l[a],1)):(l[a]=Xe(p),l[a].c(),R(l[a],1),l[a].m(e,null))}for(xe(),a=i.length;a<l.length;a+=1)o(a);et()}},i(s){if(!n){for(let c=0;c<i.length;c+=1)R(l[c]);n=!0}},o(s){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)U(l[c]);n=!1},d(s){s&&d(e),tt(l,s)}}}function Bt(t,e,n){let i;return Ce(t,we,o=>n(0,i=o)),[i,o=>we.update(s=>(s.splice(o,1),s))]}class Lt extends fe{constructor(e){super(),ue(this,e,Bt,At,ce,{})}}function Dt(t){let e;return{c(){e=f("div"),e.innerHTML=`<p>The task is to find the moments of socio-affective competent and error
        behavior in the video of interactions.</p> <p>Check the <b>Detailed Instructions</b> tab for specific instructions</p>`},m(n,i){u(n,e,i)},p:Y,i:Y,o:Y,d(n){n&&d(e)}}}class Mt extends fe{constructor(e){super(),ue(this,e,null,Dt,ce,{})}}function Rt(t){let e,n,i,l,o,s;return{c(){e=j(`Please view the video for an example of how you should be annotating: A 1 hour
video should take less than a minute:`),n=f("br"),i=m(),l=f("video"),o=f("source"),ct(o.src,s=jt)||S(o,"src",s),S(o,"type","video/mp4"),l.controls=!0,S(l,"class","svelte-1sv34xx")},m(c,a){u(c,e,a),u(c,n,a),u(c,i,a),u(c,l,a),r(l,o)},p:Y,i:Y,o:Y,d(c){c&&(d(e),d(n),d(i),d(l))}}}const jt="./DEMO_CURIOSITY.mp4";class Ut extends fe{constructor(e){super(),ue(this,e,null,Rt,ce,{})}}function It(t){let e,n,i,l,o,s,c,a,p,k,h,C,w,D,A,L,T,O,$,M,K,Q,E,ie,g,te,z,de,le,x,oe,_,B,W,se,re,ee,P,pe;return{c(){e=f("p"),e.textContent=`You are be given a video of a social robotic agent. The agent is boxed in
    red.`,n=m(),i=f("p"),i.textContent=`You will be asked to annotate the agent's behavior where it exhibits
    socio-affective competence or an socio-affective error. Here we share the
    definitions:`,l=m(),o=f("p"),o.textContent=`Socio-affective Competence: Socio-affective competence is the ability to
    successfully conduct social interactions, which depends on the awareness and
    identification of social-emotional cues, the ability to process such cues,
    and the ability to decide on and express a normative response to these cues.`,s=m(),c=f("p"),c.textContent=`Socio-affective Error: are errors that violate social norms and degrade a
    user’s perception of a robot’s socio-affective competence, such as
    interrupting a user at an inappropriate time during a conversation`,a=m(),p=f("p"),p.textContent=`Simply put, socio-affective competence refers to skillful social and
    affective behavior that is aligned to the desired and/or normal behaviors
    expcted by a user, thereby increasing trust, reliability, and overall
    perceived competence of the agent.`,k=m(),h=f("p"),h.textContent=`Socio-affective error refers to a a behavior exhibited by a robot that
    deviates from the desired or normal behaviors expected by a user, thereby
    degrading the overall perceived competence of the agent.`,C=m(),w=f("p"),w.textContent=`As you may be able to tell, socio-affective competence and error refers to
    behaviors that deviate or ar aligned to the user's expectations. This
    specifically involves first recognizing, then responding appropriately to
    social and affective contexts. Here we share specific socio-affective
    attributes and definitions.`,D=m(),A=f("p"),A.textContent="1. Social relationships (A1)",L=m(),T=f("p"),T.textContent="2. Social Norms (A4)",O=m(),$=f("p"),$.textContent="3. Social Routine (A6)",M=m(),K=f("p"),K.textContent="4. Knowledge State of User (B1)",Q=m(),E=f("p"),E.textContent="5. Intention of others (B2)",ie=m(),g=f("p"),g.textContent="6. Joint Eye Gaze (B3)",te=m(),z=f("p"),z.textContent="7. Shared Enjoyment (B4)",de=m(),le=f("p"),le.textContent="8. Comprehension of Verbal Communication (C2)",x=m(),oe=f("p"),oe.textContent="9. Comprehension of Nonverbal Communication (C2)",_=m(),B=f("p"),B.textContent="10. Appropriate Turn-Taking Behavior (C4)",W=m(),se=f("p"),se.textContent="11. Engagement (C5)",re=m(),ee=f("p"),ee.textContent="12. Coherence (C6)",P=m(),pe=f("p"),pe.textContent="13. Emotion (E1)",S(e,"class","svelte-49c25w"),S(i,"class","svelte-49c25w"),S(o,"class","svelte-49c25w"),S(c,"class","svelte-49c25w"),S(p,"class","svelte-49c25w"),S(h,"class","svelte-49c25w"),S(w,"class","svelte-49c25w"),S(A,"class","svelte-49c25w"),S(T,"class","svelte-49c25w"),S($,"class","svelte-49c25w"),S(K,"class","svelte-49c25w"),S(E,"class","svelte-49c25w"),S(g,"class","svelte-49c25w"),S(z,"class","svelte-49c25w"),S(le,"class","svelte-49c25w"),S(oe,"class","svelte-49c25w"),S(B,"class","svelte-49c25w"),S(se,"class","svelte-49c25w"),S(ee,"class","svelte-49c25w"),S(pe,"class","svelte-49c25w")},m(v,b){u(v,e,b),u(v,n,b),u(v,i,b),u(v,l,b),u(v,o,b),u(v,s,b),u(v,c,b),u(v,a,b),u(v,p,b),u(v,k,b),u(v,h,b),u(v,C,b),u(v,w,b),u(v,D,b),u(v,A,b),u(v,L,b),u(v,T,b),u(v,O,b),u(v,$,b),u(v,M,b),u(v,K,b),u(v,Q,b),u(v,E,b),u(v,ie,b),u(v,g,b),u(v,te,b),u(v,z,b),u(v,de,b),u(v,le,b),u(v,x,b),u(v,oe,b),u(v,_,b),u(v,B,b),u(v,W,b),u(v,se,b),u(v,re,b),u(v,ee,b),u(v,P,b),u(v,pe,b)},p:Y,i:Y,o:Y,d(v){v&&(d(e),d(n),d(i),d(l),d(o),d(s),d(c),d(a),d(p),d(k),d(h),d(C),d(w),d(D),d(A),d(L),d(T),d(O),d($),d(M),d(K),d(Q),d(E),d(ie),d(g),d(te),d(z),d(de),d(le),d(x),d(oe),d(_),d(B),d(W),d(se),d(re),d(ee),d(P),d(pe))}}}class Ot extends fe{constructor(e){super(),ue(this,e,null,It,ce,{})}}function Ht(t){let e,n;return e=new dt({props:{items:[{label:"Summary",component:Mt},{label:"Detailed Instructions",component:Ot},{label:"Examples",component:Ut}]}}),{c(){V(e.$$.fragment)},m(i,l){G(e,i,l),n=!0},p:Y,i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Nt(t){let e,n,i,l,o,s,c,a;function p(h){t[2](h)}let k={$$slots:{default:[Ht]},$$scope:{ctx:t}};return t[0]!==void 0&&(k.showModal=t[0]),l=new ut({props:k}),me.push(()=>ge(l,"showModal",p)),{c(){e=f("div"),n=f("button"),n.textContent="Read the instructions before starting",i=m(),V(l.$$.fragment)},m(h,C){u(h,e,C),r(e,n),u(h,i,C),G(l,h,C),s=!0,c||(a=$e(n,"click",t[1]),c=!0)},p(h,[C]){const w={};C&8&&(w.$$scope={dirty:C,ctx:h}),!o&&C&1&&(o=!0,w.showModal=h[0],he(()=>o=!1)),l.$set(w)},i(h){s||(R(l.$$.fragment,h),s=!0)},o(h){U(l.$$.fragment,h),s=!1},d(h){h&&(d(e),d(i)),J(l,h),c=!1,a()}}}function Pt(t,e,n){let i=!1;const l=()=>n(0,i=!0);function o(s){i=s,n(0,i)}return[i,l,o]}class qt extends fe{constructor(e){super(),ue(this,e,Pt,Nt,ce,{})}}function zt(t){let e,n,i,l,o,s;return{c(){e=f("center"),n=f("button"),i=j("Submit"),n.disabled=l=t[1].length===0||!t[0]},m(c,a){u(c,e,a),r(e,n),r(n,i),o||(s=$e(n,"click",t[2]),o=!0)},p(c,[a]){a&3&&l!==(l=c[1].length===0||!c[0])&&(n.disabled=l)},i:Y,o:Y,d(c){c&&d(e),o=!1,s()}}}function Ft(t,e,n){let i,l;return Ce(t,ft,s=>n(0,i=s)),Ce(t,we,s=>n(1,l=s)),[i,l,()=>{const s=document.createElement("a"),c=JSON.stringify(l),a=new Blob([c],{type:"text/plain"});s.href=URL.createObjectURL(a),s.download=i+".json",s.click(),URL.revokeObjectURL(s.href)}]}class Vt extends fe{constructor(e){super(),ue(this,e,Ft,zt,ce,{})}}function Ze(t){let e,n,i,l;return{c(){e=f("div"),n=j("Load in the corresponding video: "),i=f("span"),l=j(t[1])},m(o,s){u(o,e,s),r(e,n),r(e,i),r(i,l)},p(o,s){s&2&&ae(l,o[1])},d(o){o&&d(e)}}}function Gt(t){let e,n,i,l,o,s,c,a=t[1]&&Ze(t);return{c(){e=f("div"),n=j(`Upload annotations:
    `),i=f("input"),l=m(),a&&a.c(),o=Me(),S(i,"type","file"),S(i,"accept","application/JSON")},m(p,k){u(p,e,k),r(e,n),r(e,i),t[3](i),u(p,l,k),a&&a.m(p,k),u(p,o,k),s||(c=$e(i,"change",t[2]),s=!0)},p(p,[k]){p[1]?a?a.p(p,k):(a=Ze(p),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i:Y,o:Y,d(p){p&&(d(e),d(l),d(o)),t[3](null),a&&a.d(p),s=!1,c()}}}function Jt(t,e,n){let i,l;const o=async()=>{n(1,l=null);const c=URL.createObjectURL(i.files[0]);n(1,l=i.files[0].name.replace(".json",""));try{const a=await fetch(c).then(p=>p.json());a.forEach(p=>wt(p)),we.set(a)}catch{alert("Unable to load annotations")}};function s(c){me[c?"unshift":"push"](()=>{i=c,n(0,i)})}return[i,l,o,s]}class Yt extends fe{constructor(e){super(),ue(this,e,Jt,Gt,ce,{})}}function Kt(t){let e,n,i,l,o,s,c,a,p,k,h,C,w,D,A,L,T,O;return i=new qt({}),s=new Vt({}),p=new pt({}),C=new it({props:{add:t[0]}}),A=new Lt({}),T=new Yt({}),{c(){e=f("div"),n=f("div"),V(i.$$.fragment),l=m(),o=f("div"),V(s.$$.fragment),c=m(),a=f("div"),V(p.$$.fragment),k=m(),h=f("div"),V(C.$$.fragment),w=m(),D=f("div"),V(A.$$.fragment),L=m(),V(T.$$.fragment),y(n,"grid-column",1),y(n,"grid-row",1),y(o,"grid-column",2),y(o,"grid-row",1),y(a,"grid-column",1),y(a,"grid-row",2),y(h,"grid-column",1),y(h,"grid-row",3),y(D,"grid-column",2),y(D,"grid-row","2/4"),S(e,"class","grid svelte-ua9sz4")},m($,M){u($,e,M),r(e,n),G(i,n,null),r(e,l),r(e,o),G(s,o,null),r(e,c),r(e,a),G(p,a,null),r(e,k),r(e,h),G(C,h,null),r(e,w),r(e,D),G(A,D,null),r(D,L),G(T,D,null),O=!0},p:Y,i($){O||(R(i.$$.fragment,$),R(s.$$.fragment,$),R(p.$$.fragment,$),R(C.$$.fragment,$),R(A.$$.fragment,$),R(T.$$.fragment,$),O=!0)},o($){U(i.$$.fragment,$),U(s.$$.fragment,$),U(p.$$.fragment,$),U(C.$$.fragment,$),U(A.$$.fragment,$),U(T.$$.fragment,$),O=!1},d($){$&&d(e),J(i),J(s),J(p),J(C),J(A),J(T)}}}function Qt(t){return[n=>{const i=kt(n);we.update(l=>(l.push(i),l))}]}class Wt extends fe{constructor(e){super(),ue(this,e,Qt,Kt,ce,{})}}new Wt({target:document.getElementById("app")});
